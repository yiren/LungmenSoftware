@model LungmenSoftware.Models.ViewModel.ChangeRequestViewModelForDetail

@{
    ViewBag.Title = Model.ChangeRequest.SerialNumber+"詳細資訊";
}

<h2>@ViewBag.Title</h2>


<div class="panel panel-default">
    <div class="panel-heading">基本資訊</div>
    <div class="panel-body">
        <dl class="dl-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.ChangeRequest.ChangeRequestStatuses[0].ChangeRequestStatusType.StatusName)
            </dt>

            <dd>
                @Html.DisplayFor(model=>model.ChangeRequestStatuses.Last().ChangeRequestStatusType.StatusName)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.ChangeRequest.Description)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.ChangeRequest.Description)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.ChangeRequest.CreatedBy)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.ChangeRequest.CreatedBy)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.ChangeRequest.CreateDate)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.ChangeRequest.CreateDate)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.ChangeRequest.LastModifiedDate)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.ChangeRequest.LastModifiedDate)
            </dd>

            <dt>
                @Html.DisplayNameFor(model => model.ChangeRequest.Note)
            </dt>

            <dd>
                @Html.DisplayFor(model => model.ChangeRequest.Note)
            </dd>

        </dl>
    </div>
</div>
<hr/>
<div class="panel panel-default">
    <div class="panel-heading">審查意見</div>
    <div class="panel-body">
        <table class="table table-condensed table-striped table-bordered">
            <tr>
                <th>內容</th>
                <th>回應人員</th>
                <th>日期</th>
            </tr>
            @if (Model.ChangeRequestMessages!=null)
            {
                foreach (var item in Model.ChangeRequestMessages)
                {
                    <tr>
                        <td>@item.Message</td>
                        <td>@item.CreateBy</td>
                        <td>@item.CreateTime</td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td>資料可能有誤，請洽系統管理員。</td>
                </tr>
            }

        </table>
    </div>
</div>
<hr />
<div class="panel panel-default">
    <div class="panel-heading">案件處理過程</div>
    <div class="panel-body">
        <table class="table table-bordered table-striped table-condensed">
            <tr>
                <th>狀態</th>
                <th>狀態起始日期</th>
                <th>狀態結束日期</th>
            </tr>
            @if (Model.ChangeRequestStatuses!=null)
            {
                foreach (var item in Model.ChangeRequestStatuses)
                {
                    <tr>
                        <td>@Html.DisplayFor(m=>item.ChangeRequestStatusType.StatusName)</td>
                        <td>@Html.DisplayFor(m => item.InitialDate)</td>
                        <td>@Html.DisplayFor(m => item.EndDate)</td>
                    </tr>
                }
            }
            else
            {
                <tr>
                    <td>資料可能有誤，請洽系統管理員。</td>
                </tr>
            }
            

        </table>
    </div>
</div>

<p>
    @Html.ActionLink("回到清單", "Index")
</p>
